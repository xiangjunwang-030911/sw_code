import{g as D,aj as N,h as _,ak as S,j as A,i as F,k as U,o as u,m as x,p as l,t as p,D as o,x as r,l as s,c as f,J as q,K as z,C as L,B as O,al as R,am as H,an as J,aa as K,H as M,ao as T,ap as Z,aq as G}from"./vendor-a962175c.js";import{u as P,g as Q}from"./index-11d2d6b3.js";const W="/assets/engineer_login_logo-35943cf2.png",X="/assets/engineer_login_banner-b6d18f03.png",Y={class:"bg-white"},ee={class:"wrap flex justify-evenly items-center pt-0 lg:pt-14"},le={class:"login-form w-[calc(100% - 20px)] pb-11 text-center enter-x"},te={class:"my-6 text-2xl font-pingfang font-semibold text-black"},ae={class:"shadow-login px-9 w-[422px]"},oe={class:"fixed bottom-0 flex justify-center w-full h-28 bg-login-footer bg-cover"},se={class:"license flex flex-col justify-center items-center absolute bottom-2 font-pingfang text-xs font-weight text-white lg:block"},ne={class:"leading-5"},re={class:"leading-5"},ie={class:"leading-5"},de=D({__name:"index",setup(ue){const b=Z(),h=G(),{locale:w}=N(),c=P(),i=_("ep"),j=_(null);let g=_([]),t=S({projectId:0,username:"",password:""});const k=e=>{c.setLanguage(e),e===1?w.value="en":e===2&&(w.value="zh")};A(()=>i.value,e=>{Object.assign(t,{username:"",password:"",...e==="sp"?{projectId:0}:{}})});const $=F(()=>!!(t.username&&t.password)),V=()=>{var e;i.value=(e=b.path.match(/\/([a-zA-Z]+)\//))==null?void 0:e[1]},I=async()=>{await c.login({client:i.value,username:t.username,password:t.password});let e=b.query.redirect;if(!e){h.push({path:`/${i.value}/home`});return}h.push(e)},B=async()=>{const e=await Q();g.value=e,c.setLanguageList(e)};return U(()=>{V(),B()}),(e,a)=>{const m=R,v=H,d=J,y=K,C=M,E=T;return u(),x("div",Y,[a[4]||(a[4]=l("header",{class:"w-full h-20 pt-8 pb-0 px-12 sm:h-28 sm:pb-8"},[l("a",{href:"javascript:;",class:"inline-block"},[l("img",{src:W,alt:"engineer_login_logo"})])],-1)),l("div",ee,[a[3]||(a[3]=l("div",{class:"hidden lg:block enter-x"},[l("img",{src:X,alt:"engineer_login_logo"})],-1)),l("div",le,[l("h2",te,p(e.$t("login.it_service_platform")),1),l("div",ae,[o(E,{model:s(t),"label-width":100,class:"pt-12 rounded-sm"},{default:r(()=>[s(g).length?(u(),f(d,{key:0,label:e.$t("login.language"),prop:"languageId",class:"mb-9 enter-x"},{default:r(()=>[o(v,{"model-value":s(c).getLanguageId,class:"w-full",onChange:k},{default:r(()=>[(u(!0),x(q,null,z(s(g),n=>(u(),f(m,{key:n.languageID,value:n.languageID,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["model-value"])]),_:1},8,["label"])):L("",!0),o(d,{label:e.$t("login.login_name"),prop:"username",class:"mb-9 enter-x"},{default:r(()=>[o(y,{class:"w-full",modelValue:s(t).username,"onUpdate:modelValue":a[0]||(a[0]=n=>s(t).username=n),placeholder:e.$t("login.input_login_name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(d,{label:e.$t("login.password"),prop:"password",class:"mb-9 enter-x"},{default:r(()=>[o(y,{class:"w-full",type:"password",modelValue:s(t).password,"onUpdate:modelValue":a[1]||(a[1]=n=>s(t).password=n),placeholder:e.$t("login.input_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i.value=="sp"?(u(),f(d,{key:1,label:e.$t("login.project"),prop:"projectId",class:"mb-9 enter-x"},{default:r(()=>[o(v,{modelValue:s(t).projectId,"onUpdate:modelValue":a[2]||(a[2]=n=>s(t).projectId=n),class:"w-full"},{default:r(()=>[o(m,{value:0,label:e.$t("login.event_management")},null,8,["label"]),o(m,{value:1,label:e.$t("login.project_management")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])):L("",!0),o(C,{ref_key:"LoginButton",ref:j,class:"mb-9 w-40",disabled:!$.value,type:"primary",onClick:I},{default:r(()=>[O(p(e.$t("login.login")),1)]),_:1},8,["disabled"])]),_:1},8,["model"])])])]),l("footer",oe,[l("p",se,[l("span",ne,p(e.$t("login.corporate_copyright_notice")),1),l("span",re," "+p(e.$t("login.company_record_number")),1),l("span",ie," "+p(e.$t("login.presentation_of_consent_terms")),1)])])])}}});export{de as default};
