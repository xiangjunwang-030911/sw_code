import{g as b,aq as M,ap as w,r as j,o as s,c as a,x as v,p as f,C as u,t as i,m as d,J as C,K as E,B as R,aI as $,bn as L}from"./vendor-a962175c.js";import{h as V,e as B,M as O,_ as z}from"./index-11d2d6b3.js";import{u as G}from"./service-0e8ab2f5.js";import"./index-8a0f43b8.js";const T={class:"flex items-center group"},D={key:2,class:"w-4 h-4 ml-2 text-white rounded-full bg-[#EC1616] flex items-center justify-center text-[13px]"},q={key:2,class:"w-4 h-4 ml-2 text-white rounded-full bg-[#EC1616] flex items-center justify-center text-[13px]"},F=b({__name:"ReSubmenu",props:{parent:{type:Object,default:()=>({})}},emits:["select","closeMenu"],setup(n,{emit:_}){const m=_,r=G(),I=V(),N=M(),x=w(),g=(t,o)=>{m("select",1,o)},h=async t=>{t=="/ep/service"&&!r.serviceCatalogList&&await r.getServiceCatalogList(),t.indexOf("/ep/service/counter")!==-1&&N.push(t).then(()=>{const o=Number(t.slice(t.lastIndexOf("/")+1));r.serviceCatalogList.forEach(l=>{l.projectId!==o&&m("closeMenu",`/ep/service/counter/${l.projectId}`)});const c=r.serviceCatalogList.find(l=>l.projectId==o);I.addTagsViewList({name:t,title:c==null?void 0:c.projectName,group:O.MODULE,meta:x.meta}),r.getServiceGroup(c.projectId)})},k=t=>{(t!=`/ep/service/counter/${x.params.id}`||!r.serviceGroupList)&&h(t)};return(t,o)=>{const c=B,l=j("re-submenu",!0),y=$,S=L;return s(),a(S,{index:n.parent.name,onClick:o[1]||(o[1]=e=>k(n.parent.name))},{title:v(()=>[f("div",T,[n.parent.noNeedIcon?u("",!0):(s(),a(c,{key:0,size:"18",iconClass:n.parent.icon,className:`cursor-pointer text-[18px] mr-2 group-hover:hidden ${n.parent.icon}`},null,8,["iconClass","className"])),!n.parent.noNeedIcon&&n.parent.activeIcon?(s(),a(c,{key:1,size:"18",iconClass:n.parent.activeIcon,className:`cursor-pointer text-[18px] mr-2 group-hover:block hidden ${n.parent.activeIcon}`},null,8,["iconClass","className"])):u("",!0),f("span",null,i(n.parent.title),1),n.parent.unReadMessage?(s(),d("div",D,i(n.parent.unReadMessage),1)):u("",!0)])]),default:v(()=>[(s(!0),d(C,null,E(n.parent.children,e=>(s(),d(C,null,[e.children?(s(),a(l,{key:`menu_${e.name}`,name:e.name,parent:e,class:"second-menu-wrapper",onSelect:g,onCloseMenu:o[0]||(o[0]=p=>m("closeMenu",p))},null,8,["name","parent"])):(s(),a(y,{key:`menu_${e.name}1`,index:e.name,class:"flex items-center group",onClick:p=>g(p,e.name)},{default:v(()=>[e.noNeedIcon?u("",!0):(s(),a(c,{key:0,size:"18",iconClass:e.icon,className:`cursor-pointer text-[20px] mr-3 group-hover:hidden ${e.icon}`},null,8,["iconClass","className"])),!e.noNeedIcon&&e.activeIcon?(s(),a(c,{key:1,size:"18",iconClass:e.activeIcon,className:`cursor-pointer text-[20px] mr-3 group-hover:block hidden ${e.activeIcon}`},null,8,["iconClass","className"])):u("",!0),R(" "+i(e.title)+" ",1),e.unReadMessage?(s(),d("div",q,i(e.unReadMessage),1)):u("",!0)]),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["index"])}}});const H=z(F,[["__scopeId","data-v-e14c6e1c"]]);export{H as default};
