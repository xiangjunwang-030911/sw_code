import{b as k,e as N,m as M,_ as b}from"./index-11d2d6b3.js";import{_ as w}from"./index-d220fc5f.js";import{g as I,h as a,ba as S,o as d,m as _,p as o,a5 as R,l as i,D as m,z as D,c as G,C as H,N as P}from"./vendor-a962175c.js";const F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAb5JREFUWEdjZICCdbe++jD8ZyxiZGQwYWBg4IWJ05n+/P8/wxkGxv99QWrcW0B2M4KIdbe/tnIwMVVJ8bIw8LIxMTAzgYXpDv7++8/w+dc/hmef/zD8+PevLUiVu5oRFHIczEyb1YTZGFgGyGHoIfHn33+GW29/Mfz4+8+Xcd3Nb/uUBFkdBTiY6R5i+Cz88OMvw733v/czrr/17ZOeGDvvQEUrLkeCovvSq5+fQQ78byjBMahCD+aY8y9+MIw6kJKoGQ1BSkIPpHc0BEdDkNIQoFQ/1dPgvds3GL5/+8YgK6/IwCcgSKn7qJ9JmktzGO7dus6QXV7PYGJlN+pAkkNgNARJCbK7N6+BMwQyWDZ7CsPzp48ZfMNiGNS0dFHk5BSVSc44FOXixqJMhgd3bxHtp5yKRgZjSxui1VNc1U3tbGR4+ugBioVvXr1g+P3rF4OgsAgDBycXilx0ag6DtoEx/RyIzabRTEJS+GNRPBqClIbg1I5GhkcP7jLEpOUy6BqZUmoc9etiil2EZgBF5SC1HYPNvFEHUhrKoyE4GoKUhgCl+mFpcHAPvw36AcxBPwQMSieDehAdlpAH6zQEACLsl+ZJ0NYCAAAAAElFTkSuQmCC",T={class:"flex items-center"},Q=["innerHTML"],z={class:"flex mt-[10px] ml-2"},K=I({__name:"index",emits:["send"],setup(L,{emit:p}){const A=P(()=>k(()=>import("./ReplyAction-f9ac7f90.js"),["assets/ReplyAction-f9ac7f90.js","assets/index-11d2d6b3.js","assets/vendor-a962175c.js","assets/vendor-9f745663.css","assets/index-b7f84b08.css","assets/ReplyAction-393dd570.css"])),g=p,{createMessage:v}=M(),f=a(""),r=a(!0),s=a(),l=a(!1),y=()=>{r.value=!r.value},C=e=>{s.value.innerHTML+=e,s.value.focus()},h=()=>{l.value=!0},x=()=>{l.value=!1},B=e=>{if(e.key==="Enter"&&e.preventDefault(),(e.ctrlKey||e.metaKey)&&e.key==="Enter"){const n=window.getSelection(),t=n.getRangeAt(0),c=document.createElement("br"),u=document.createTextNode("​");t.insertNode(c),t.setStartAfter(c),t.insertNode(u),t.setStartAfter(u),t.collapse(!0),n.removeAllRanges(),n.addRange(t)}else e.key==="Enter"&&(s.value.innerHTML.replace(/&nbsp;| /g,"")?(g("send",s.value.innerHTML),s.value.innerHTML=""):v.warning("Message can not be empty"))};return(e,E)=>{const n=w,t=N,c=S("auto-animate");return d(),_("div",null,[o("div",T,[o("div",{class:R(["reply-wrapper",{"is-focus":i(l)}])},[o("div",{class:"custom-input",id:"editableDiv",ref_key:"customInputRef",ref:s,contenteditable:"",placeholder:"输入消息(Ctrl+Enter插入新行)",onFocus:h,onBlur:x,onKeydown:B,innerHTML:i(f)},null,40,Q),o("div",z,[m(n,{onSelect:C}),m(t,{"icon-class":"common-icon-attach",size:16,class:"mx-3 cursor-pointer"}),m(t,{"icon-class":"chat-icon_send",class:"ml-2 mr-1 cursor-pointer"})])],2),o("img",{class:"ml-3 cursor-pointer",src:F,alt:"",onClick:y})]),D((d(),_("div",null,[i(r)?(d(),G(i(A),{key:0})):H("",!0)])),[[c]])])}}});const Z=b(K,[["__scopeId","data-v-047f1390"]]);export{Z as default};
