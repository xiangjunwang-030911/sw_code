import{e as y}from"./index-4585b2cf.js";import{g as x,aQ as v,h as r,i as b,j as m,k as w,aR as _,o as k,m as A,aS as D,aT as S,aZ as L,aW as O,a_ as $}from"./vendor-a962175c.js";import"./index-11d2d6b3.js";const T=x({__name:"OrderTimeDistribution",props:{onResize:{default:()=>[0,0]},dateInfo:{default:()=>({})}},setup(d){v([D,S,L,O,$]);const l=d;let n=r([]),c=r([]),a=null;const u=r(null),g=b(()=>({grid:{top:6,bottom:25,left:20,right:20},tooltip:{show:!0,triggerOn:"mousemove",trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){if(Array.isArray(t)){const e=t[0],i=e.name.split(".");return i[0]+"年"+i[1]+"月"+"<br>"+e.marker+e.value}return""}},xAxis:{type:"category",data:c.value,axisLine:{show:!1},boundaryGap:!1,axisTick:{show:!0,alignWithLabel:!0},axisLabel:{show:!0,margin:4,color:"#fff",fontFamily:"Arial",fontWeight:"bold"},splitLine:{show:!0,lineStyle:{type:"dashed",color:["#213488"]}}},yAxis:{type:"value",show:!1},series:[{data:n.value,type:"line",smooth:!0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#3453cf"},{offset:1,color:"rgba(20, 33, 88,0.1)"}],global:!1}}}]})),f=()=>{a==null||a.setOption(g.value)},h=async(t,e,i,s)=>{const p=await y({projectId:106,yearFrom:t,monthFrom:e,yearTo:i,monthTo:s});n.value=p.map(o=>o.count),c.value=p.map(o=>String(o.year).slice(2)+"."+o.month),f()};return m(()=>l.onResize,()=>{a==null||a.resize()}),m(()=>l.dateInfo,({yearFrom:t,monthFrom:e,yearTo:i,monthTo:s})=>{t&&e&&i&&s&&h(t,e,i,s)},{immediate:!0}),w(()=>{const t=u.value;a=_(t),f()}),(t,e)=>(k(),A("div",{ref_key:"main",ref:u,style:{width:"100%",height:"100%"}},null,512))}});export{T as default};
