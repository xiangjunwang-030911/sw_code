import{f as x,b as S}from"./index-11d2d6b3.js";import{g as w,h as d,j as v,k as b,o as C,m as N,D as u,x as _,p as h,t as I,l as m,L as y,ap as V,U as B,a8 as D,N as R}from"./vendor-a962175c.js";import{u as j}from"./service-0e8ab2f5.js";import"./index-8a0f43b8.js";const k={class:"px-3 pt-3 h-full flex flex-col"},E={class:"flex justify-between items-center border-b border-lighter pb-4"},G={class:"font-bold"},M=w({__name:"index",setup(O){const g=R(()=>S(()=>import("./ServiceList-abab927a.js"),["assets/ServiceList-abab927a.js","assets/vendor-a962175c.js","assets/vendor-9f745663.css","assets/index-11d2d6b3.js","assets/index-b7f84b08.css","assets/useTableMaxHeight-bf759a94.js","assets/service-0e8ab2f5.js","assets/index-8a0f43b8.js"])),e=V(),a=j(),c=d(),s=d(""),n=d("");let p=[];const L=async()=>{var t,o,i,l;e.params.groupId?(!a.serviceGroupList&&await a.getServiceGroup,n.value=(o=(t=a.serviceGroupList)==null?void 0:t.find(r=>r.groupID==Number(e.params.groupId)))==null?void 0:o.groupName):e.params.id&&(!a.serviceCatalogList&&await a.getServiceCatalogList,n.value=(l=(i=a.serviceCatalogList)==null?void 0:i.find(r=>r.projectId==Number(e.params.id)))==null?void 0:l.projectName)},f=async()=>{await a.getServiceList(e.params.id,e.params.groupId),L(),p=B(a.serviceList)};return v([()=>e.params.id,()=>e.params.groupId],()=>{e.path.indexOf("/ep/service/counter")!==-1&&f()}),v(()=>s.value,()=>{s.value.trim()?c.value.handleSearch(p.filter(t=>t.templateName.toLocaleLowerCase().indexOf(s.value.toLocaleLowerCase())!==-1)):c.value.handleSearch(p)}),b(()=>{f()}),(t,o)=>{const i=x,l=D;return C(),N("div",k,[u(l,{class:"px-[24px] enter-x",bordered:!1,shadow:"hover"},{header:_(()=>[h("div",E,[h("div",G,I(m(n)),1),u(i,{class:"w-[200px] md:w-[340px]",modelValue:m(s),"onUpdate:modelValue":o[0]||(o[0]=r=>y(s)?s.value=r:null),placeholder:"输入关键字",searchBtn:"搜索服务"},null,8,["modelValue"])])]),default:_(()=>[u(m(g),{ref_key:"serviceListRef",ref:c,class:"pt-4"},null,512)]),_:1})])}}});export{M as default};
