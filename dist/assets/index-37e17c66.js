import{g as p,h as a,j as h,z as _,l as s,o,m as l,ap as g,A as v}from"./vendor-a962175c.js";import{h as y,q as w,s as L}from"./index-11d2d6b3.js";import{u as M}from"./iframeHelper-2117fee7.js";const S={class:"w-full h-full"},E=["src"],T=p({name:"LiveSyncMeeting",__name:"index",setup(b){const e=g(),m=y(),t=a(""),n=a(0),r=a(!1),c=()=>{r.value=!1};h([()=>e.params.id,()=>e.params.type],()=>{Number(e.params.id)&&(t.value=M().newSyncMeetingIframe({id:Number(e.params.id),type:Number(e.params.type)}),n.value=Number(e.params.id))},{immediate:!0});const d=()=>{e.path.indexOf("/liveSync")!==-1&&m.deleteTagsViewList({name:e.fullPath,route:e,forceDelete:!0})};return w({name:"message",listener:i=>{switch(i.data.type){case L.CLOSE_MEETING_MODAL:d();break}}}),(i,f)=>{const u=v;return _((o(),l("div",S,[(o(),l("iframe",{id:"LiveSyncMeeting",class:"w-full h-full",ref:"iframeRef",src:s(t),key:s(n),onLoad:c,allow:"microphone; camera"},null,40,E))])),[[u,s(r)]])}}});export{T as default};
