import{g as L,h as o,k as q,ag as H,o as p,m as b,y as D,D as r,x as O,p as x,c as U,C as w,q as j,n as C,G as z,bd as A,aa as X,be as F,F as G}from"./vendor-a962175c.js";import{_ as J}from"./search-b1f3d536.js";import{q as g,e as a,_ as K}from"./index-11d2d6b3.js";const Q={key:0,class:"filter-wrapper flex items-center enter-x"},Y={class:"action-wrapper flex items-center ml-3"},Z=L({__name:"MenuTree",props:{isNeedConstruction:{type:Boolean,default:!0},isNeedHeader:{type:Boolean,default:!0},treeList:{default:()=>[{label:"CW-SW Development Project(All)",folderTypeId:1,children:[{label:"CW/SW-11.0",folderTypeId:2,children:[{label:"leaf 1-1-1"},{label:"leaf 1-1-2"}]},{label:"Model Project4",folderTypeId:2,children:[{label:"leaf 1-1-1"},{label:"leaf 1-1-2"}]},{label:"9.2-special patch for China银联",folderTypeId:3,children:[{folderTypeId:4,label:"Beta Release",children:[{label:"7009-1:Add Submit Botton",folderTypeId:5}]}]}]}]},initWidth:{default:300}},emits:["onResize"],setup(ee,{emit:T}){const W=T,f=o(""),y=o(999999),E=o(0),c=o(!1),i=o(0),_=o(0),I=e=>{switch(e){case 1:return"folder_base";case 2:return"folder_catalogue";case 3:return"folder_catalogue2";case 4:return"folder_release";case 5:return"folder_task";default:return""}},P=(e,{node:t,data:s})=>{const{level:l}=t;return e("div",{class:"w-full my-2"},[e("div",{class:"flex items-center"},[e(a,{iconClass:I(s.folderTypeId),class:"mr-1"}),e("span",{style:{maxWidth:y.value-l*18+"px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:s.label},s.label)])])};let v=G();const d=()=>{if(v){const{proxy:e}=v;return e}return null},S=()=>{document.documentElement.style.setProperty("-webkit-user-select","text"),document.documentElement.style.setProperty("-moz-user-select","text"),document.documentElement.style.setProperty("-ms-user-select","text"),document.documentElement.style.setProperty("user-select","text")},k=()=>{document.documentElement.style.setProperty("-webkit-user-select","none"),document.documentElement.style.setProperty("-moz-user-select","none"),document.documentElement.style.setProperty("-ms-user-select","none"),document.documentElement.style.setProperty("user-select","none")},M=()=>{if(c.value){c.value=!1;const e=document.querySelector("body");e&&(e.style.cursor="default"),S(),z(()=>{var t;i.value=(t=d())==null?void 0:t.$el.clientWidth})}},B=e=>{c.value=!0,_.value=e.x,k()},N=e=>{if(c.value){const t=document.querySelector("body");t&&(t.style.cursor="col-resize");const s=_.value-e.x,l=d();l&&l.$el&&(l.$el.style.width=i.value-Number(s)+"px"),W("onResize")}},R=e=>{y.value=e-40};let n=null;const u=o(null),V=()=>{var e;i.value=(e=d())==null?void 0:e.$el.clientWidth,n=new ResizeObserver(t=>{for(const s of t){const l=s.contentRect.width;A(m=>R(m),200)(l)}}),z(()=>{u.value&&(n==null||n.observe(u.value))})};q(()=>{V(),g({name:"mousemove",wait:0,listener:N}),g({name:"mouseup",wait:0,listener:M})});const $=()=>{n&&(n.disconnect(),n=null)};return H(()=>{$()}),(e,t)=>{const s=J,l=X,h=F;return p(),b("div",{ref_key:"tree",ref:u,class:"tree-main",style:C({width:e.initWidth+"px"})},[D(e.$slots,"title",{class:"enter-x"},void 0,!0),e.isNeedHeader?(p(),b("div",Q,[r(l,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=m=>f.value=m),placeholder:"搜索",class:"w-full"},{suffix:O(()=>[r(s,{size:"14"})]),_:1},8,["modelValue"]),x("div",Y,[r(a,{iconClass:"filter_icon",size:"24",class:"ml-1 cursor-pointer"}),e.isNeedConstruction?(p(),U(a,{key:0,iconClass:"construction_icon",size:"24",class:"cursor-pointer"})):w("",!0),r(a,{iconClass:"add_icon",size:"24",class:"cursor-pointer"}),r(a,{iconClass:"tree_collapse_icon",size:"24",class:"cursor-pointer"})])])):w("",!0),r(h,j({data:e.treeList,class:"mt-5 w-full tree-wrapper enter-x","render-content":P,"default-expand-all":!0},e.$attrs),null,16,["data"]),x("div",{ref:"resizeLine",class:"resize-line",style:C({right:E.value+"px"}),onMousedown:B},null,36)],4)}}});const ne=K(Z,[["__scopeId","data-v-baa6f830"]]);export{ne as default};
