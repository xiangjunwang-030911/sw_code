import{h as m}from"./index-4585b2cf.js";import{g as h,aQ as g,j as c,k as w,aR as y,ag as x,o as L,m as S,n as F,aT as b,aS as k,aV as D,aW as A}from"./vendor-a962175c.js";import"./index-11d2d6b3.js";const I=h({__name:"OrderSource",props:{width:{default:"100%"},height:{default:"100%"},onResize:{default:()=>[0,0]},dateInfo:{default:()=>({})}},setup(f){g([b,k,D,A]);const r=f;let l=["微信","电信","APP","官网","邮件","其他"].reverse(),n=[300,250,200,160,130,80].reverse(),e=null,s={color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#1A3B95"},{offset:1,color:"#3163FB"}],global:!1},grid:{left:"3%",right:"4%",bottom:"0%",top:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,color:"#FFF",fontFamily:"MicrosoftYaHei",opacity:.7,margin:18},splitLine:{show:!1}},yAxis:{type:"category",data:[],axisLabel:{show:!0,color:"#FFF",fontFamily:"MicrosoftYaHei",opacity:.7,margin:18},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:[{data:[],type:"bar",itemStyle:{borderRadius:[0,5,5,0]},showBackground:!0,backgroundStyle:{color:"RGBA(18, 39, 67, .8)",borderRadius:[0,5,5,0]}}]};const d=()=>{e==null||e.setOption(s)},p=async(a,o)=>{const u=await m({projectId:106,fieldId:14,dtTo:new Date(o).toLocaleDateString(),dtFrom:new Date(a).toLocaleDateString()});let i=[];u.forEach(t=>{t.name&&i.push(t)}),l=i.map(t=>t.name).reverse(),n=i.map(t=>t.count).reverse(),s.yAxis={data:l},s.series=[{data:n}],d()};return c(()=>r.onResize,()=>{e==null||e.resize()}),c(()=>r.dateInfo,({start:a,end:o})=>{a&&o&&p(a,o)},{immediate:!0}),w(()=>{e=y(document.getElementById("orderSource")),d()}),x(()=>{e==null||e.dispose()}),(a,o)=>(L(),S("div",{id:"orderSource",style:F({width:a.width,height:a.height})},null,4))}});export{I as default};
