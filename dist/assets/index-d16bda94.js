import{h as U,u as D,I as Y,L as K,K as g,q as B,b as v,s as c,P as n}from"./index-11d2d6b3.js";import{g as q,aq as x,ap as H,h as l,j,z,l as a,o as F,m as J,p as Q,D as _,L as p,N as S,A as X}from"./vendor-a962175c.js";import{u as Z}from"./iframeHelper-2117fee7.js";const ee={class:"h-full"},ae=["height","src"],le=q({__name:"index",props:{iframeStyle:{default:0},height:{default:"100%"}},setup(L){const I=L,V=S(()=>v(()=>import("./NewSyncModal-177364a2.js"),["assets/NewSyncModal-177364a2.js","assets/index-11d2d6b3.js","assets/vendor-a962175c.js","assets/vendor-9f745663.css","assets/index-b7f84b08.css","assets/iframeHelper-2117fee7.js"])),M=S(()=>v(()=>import("./ShareModal-69a9c28a.js"),["assets/ShareModal-69a9c28a.js","assets/index-11d2d6b3.js","assets/vendor-a962175c.js","assets/vendor-9f745663.css","assets/index-b7f84b08.css","assets/iframeHelper-2117fee7.js"])),O=S(()=>v(()=>import("./LiveSyncModal-2d0f5382.js"),["assets/LiveSyncModal-2d0f5382.js","assets/index-11d2d6b3.js","assets/vendor-a962175c.js","assets/vendor-9f745663.css","assets/index-b7f84b08.css","assets/iframeHelper-2117fee7.js"])),E=x(),y=H(),N=U(),T=D(),h=l(!0),w=Z().liveSyncActivityIframe({id:2350598,style:I.iframeStyle}),o=l(!1),u=l(!1),r=l(!1),f=l();let s=l(0),m=l(0);const P=()=>{h.value=!1},R=()=>{o.value=!0},C=()=>{E.push({path:`/ep/liveSync/${s.value}/${n.NEW_SYNC_MEETING}`}).then(()=>{N.addTagsViewList({name:`/ep/liveSync/${s.value}/${n.NEW_SYNC_MEETING}`,title:`LiveSync-${s.value}`,meta:y.meta})})},A=()=>{E.push({path:`/ep/liveSync/${s.value}/${n.NEW_LIVE_PERSON_SUPPORT}`}).then(()=>{N.addTagsViewList({name:`/ep/liveSync/${s.value}/${n.NEW_LIVE_PERSON_SUPPORT}`,title:`LiveSync-${s.value}`,meta:y.meta})})},k=t=>{switch(s.value=t.livesyncid,m.value=t.meetingtype,m.value){case n.NEW_SYNC:R();break;case n.NEW_SYNC_MEETING:C();break;case n.NEW_LIVE_PERSON_SUPPORT:A();break}},$=()=>{o.value=!1},b=()=>{u.value=!0},W=()=>{r.value=!0},G=t=>{const e=t.data;switch(e.type){case c.NEW_SYNC_MEETING:k(e);break;case c.CLOSE_MEETING_MODAL:$();break;case c.SHARE_LIVESYNC:b();break;case c.OPEN_LIVESYNC:s.value=e.livesyncid,W();break}};return j(()=>T.getLanguageId,t=>{var e,d;(d=(e=f.value)==null?void 0:e.contentWindow)==null||d.postMessage({type:Y.CHANGE_KLOUD_LANGUAGE,languageid:t==K.EN?g.EN:g.CN},"*")}),B({name:"message",listener:G}),(t,e)=>{const d=X;return z((F(),J("div",ee,[Q("iframe",{class:"w-full",ref_key:"iframeRef",ref:f,height:t.height,src:a(w),frameborder:"0",onLoad:P},null,40,ae),_(a(V),{modelValue:a(o),"onUpdate:modelValue":e[0]||(e[0]=i=>p(o)?o.value=i:null),livesyncId:a(s),meetingType:a(m)},null,8,["modelValue","livesyncId","meetingType"]),_(a(M),{modelValue:a(u),"onUpdate:modelValue":e[1]||(e[1]=i=>p(u)?u.value=i:null)},null,8,["modelValue"]),_(a(O),{modelValue:a(r),"onUpdate:modelValue":e[2]||(e[2]=i=>p(r)?r.value=i:null),livesyncId:a(s)},null,8,["modelValue","livesyncId"])])),[[d,a(h)]])}}});export{le as default};
